<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fur Radio ‚Äî Live</title>
  <style>
    :root {
      --accent: #49ff9a;
      --accent-hover: #3df28b;
      --text: rgba(255,255,255,0.94);
      --glass: rgba(255,255,255,0.06);
      --border: rgba(255,255,255,0.12);
    }
    * { box-sizing: border-box; outline: none; }
    body {
      margin: 0; height: 100vh; display: grid; place-items: center;
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      color: var(--text); background: #0a140d; overflow: hidden;
    }
    .bg-animation {
      position: fixed; inset: -10%; z-index: -1;
      background: radial-gradient(circle at 30% 30%, #0f3d24 0%, #070f0a 50%, #0a1f14 100%);
      animation: breathe 12s ease-in-out infinite alternate;
    }
    @keyframes breathe { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
    .glass-card {
      background: var(--glass); backdrop-filter: blur(25px) saturate(170%);
      border: 1px solid var(--border); border-radius: 35px;
      padding: 40px; width: min(420px, 95vw); text-align: center;
    }
    .logo { width: 100px; height: 100px; border-radius: 28px; margin-bottom: 20px; border: 2px solid var(--border); }
    .stats-row { display: flex; justify-content: center; gap: 12px; margin-bottom: 30px; }
    .pill { background: rgba(255,255,255,0.05); border: 1px solid var(--border); padding: 8px 16px; border-radius: 999px; font-size: 13px; display: flex; align-items: center; gap: 8px; }
    .dot { width: 10px; height: 10px; background: #ff5a6b; border-radius: 50%; transition: 0.3s; }
    .dot.online { background: var(--accent); box-shadow: 0 0 10px var(--accent); }
    .dot.playing { animation: pulse-dot 1.5s infinite; }
    @keyframes pulse-dot { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.4; transform: scale(1.2); } }
    .btn-main {
      background: var(--accent); color: #05140a; border: none; width: 100%; height: 65px;
      border-radius: 22px; font-weight: 800; font-size: 18px; cursor: pointer;
      display: flex; align-items: center; justify-content: center; margin-bottom: 15px;
    }
    .loader { display: none; width: 26px; height: 26px; border: 3px solid rgba(0,0,0,0.1); border-top: 3px solid #000; border-radius: 50%; animation: spin 0.8s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    .btn-tg { background: rgba(255,255,255,0.03); color: #24A1DE; border: 1px solid rgba(36,161,222,0.2); width: 100%; padding: 14px; border-radius: 20px; text-decoration: none; font-weight: 600; display: inline-block; }
    .volume-box { margin-top: 25px; display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.2); padding: 12px 20px; border-radius: 20px; }
    input[type="range"] { flex: 1; accent-color: var(--accent); cursor: pointer; }
  </style>
</head>
<body>
  <div class="bg-animation"></div>
  <div class="glass-card">
    <img src="icon.png" class="logo" alt="Logo">
    <h1>Fur Radio</h1>
    <p style="margin-bottom: 25px; color: rgba(255,255,255,0.4);">¬´Fur-Radio: –¢–≤—ñ–π –ø—Ä–∏—Ä–æ–¥–Ω–∏–π —Ä–∏—Ç–º.¬ª</p>
    <div class="stats-row">
      <div class="pill"><span id="dot" class="dot"></span> <span id="statusTxt">OFFLINE</span></div>
      <div class="pill">üë• <span id="listeners">0</span></div>
    </div>
    <button class="btn-main" id="playBtn">
      <span id="btnText">‚ñ∂Ô∏è –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å</span>
      <div class="loader" id="btnLoader"></div>
    </button>
    <a href="https://t.me/shuvee_dev" class="btn-tg">üëÄ Telegram –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞</a>
    <div class="volume-box"><span>üîà</span><input type="range" id="vol" min="0" max="100" value="80"></div>
  </div>

  <audio id="audio" crossorigin="anonymous"></audio>

  <script>
    const STREAM_URL = "https://radio.galebrawl.pp.ua/live";
    const INFO_URL = "https://radio.galebrawl.pp.ua/info";
    
    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("playBtn");
    const btnText = document.getElementById("btnText");
    const btnLoader = document.getElementById("btnLoader");
    const dot = document.getElementById("dot");
    const statusTxt = document.getElementById("statusTxt");
    const listenersTxt = document.getElementById("listeners");
    const vol = document.getElementById("vol");

    function togglePlay() {
      if (audio.paused) {
        btnText.style.display = "none";
        btnLoader.style.display = "block";
        audio.src = STREAM_URL + "?t=" + Date.now();
        audio.play().catch(() => { updateUI(false); });
      } else {
        audio.pause();
        audio.src = "";
        updateUI(false);
      }
    }

    function updateUI(playing) {
      btnLoader.style.display = "none";
      btnText.style.display = "block";
      if (playing) {
        btnText.textContent = "‚è∏Ô∏è –ü–∞—É–∑–∞";
        dot.classList.add("playing");
      } else {
        btnText.textContent = "‚ñ∂Ô∏è –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å";
        dot.classList.remove("playing");
      }
    }

    audio.onplaying = () => updateUI(true);
    playBtn.onclick = togglePlay;
    vol.oninput = () => { audio.volume = vol.value / 100; };

    async function getStats() {
      try {
        const res = await fetch(INFO_URL);
        const data = await res.json();
        
        listenersTxt.textContent = data.listeners;
        
        if (data.status === "ONLINE") {
          statusTxt.textContent = "ONLINE";
          statusTxt.style.color = "#49ff9a";
          dot.classList.add("online");
        } else {
          statusTxt.textContent = "OFFLINE";
          dot.classList.remove("online");
        }
      } catch (e) {
        statusTxt.textContent = "OFFLINE";
        dot.classList.remove("online");
      }
    }

    setInterval(getStats, 5000);
    getStats();
  </script>
</body>
</html>

